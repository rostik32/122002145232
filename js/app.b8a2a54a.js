(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/122002145232/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0e84":function(t,e,r){},"1ea5":function(t,e,r){"use strict";r("469e")},"469e":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper",attrs:{id:"app"}},[r("div",{staticClass:"row"},[r("left-sidebar"),r("main-content")],1)])},i=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col s9"},[r("ul",{staticClass:"products row"},t._l(t.products,(function(e){return r("li",{key:e.id,staticClass:"products__item col s12 m6 l4"},[r("div",{staticClass:"products__item-card card hoverable"},[r("div",{staticClass:"products__item-outer card-image"},[r("img",{staticClass:"products__item-img",attrs:{src:t.getUrl(e.image)}}),t._m(0,!0)]),r("div",{staticClass:"card-content"},[r("h4",{staticClass:"products__item-name card-title",attrs:{title:e.name}},[t._v(" "+t._s(e.name)+" ")]),r("span",{staticClass:"products__item-price"},[t._v(" "+t._s(t.getPriceByCurrency(e.price))+" ")]),r("p",{staticClass:"products__item-description"},[t._v(t._s(e.description))])])])])})),0),t.products.length?t._e():r("span",{staticClass:"flow-text"},[t._v("Oops.. No products found")])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{staticClass:"btn-floating halfway-fab waves-effect waves-light blue"},[r("i",{staticClass:"material-icons"},[t._v("visibility")])])}],c=(r("caad"),r("2532"),r("5530")),u=r("2f62"),l={name:"MainContent",computed:Object(c["a"])({},Object(u["b"])(["products"])),methods:{getPriceByCurrency:function(t){return this.$store.getters.price(t)},getUrl:function(t){return t.includes("data:image")?t:"/122002145232/products/".concat(t)}}},d=l,p=(r("bda6"),r("2877")),m=Object(p["a"])(d,s,o,!1,null,null,null),f=m.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col s3"},[r("sorting-products"),r("choice-currency"),r("price-range"),r("add-new-modal")],1)},g=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",[r("span",{staticClass:"flow-text"},[t._v("Sort by")]),r("p",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"with-gap",attrs:{name:"sort",type:"radio",value:"toHigh"},domProps:{checked:t._q(t.sortBy,"toHigh")},on:{change:function(e){t.sortBy="toHigh"}}}),r("span",[t._v("Price: low to high")])])]),r("p",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"with-gap",attrs:{name:"sort",type:"radio",value:"toLow"},domProps:{checked:t._q(t.sortBy,"toLow")},on:{change:function(e){t.sortBy="toLow"}}}),r("span",[t._v("Price: high to low")])])]),r("p",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"with-gap",attrs:{name:"sort",type:"radio",value:"alphabet"},domProps:{checked:t._q(t.sortBy,"alphabet")},on:{change:function(e){t.sortBy="alphabet"}}}),r("span",[t._v("alphabetically")])])])])},b=[],_={name:"SortingProducts",computed:{sortBy:{get:function(){return this.$store.getters.sortBy},set:function(t){this.$store.commit("setSort",t)}}}},y=_,w=Object(p["a"])(y,h,b,!1,null,null,null),x=w.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"flow-text"},[t._v("Currency")]),r("p",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],staticClass:"with-gap",attrs:{name:"currency",value:"UAH",type:"radio"},domProps:{checked:t._q(t.currency,"UAH")},on:{change:function(e){t.currency="UAH"}}}),r("span",[t._v("UAH")])]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],staticClass:"with-gap",attrs:{name:"currency",value:"USD",type:"radio"},domProps:{checked:t._q(t.currency,"USD")},on:{change:function(e){t.currency="USD"}}}),r("span",[t._v("USD")])])])])},$=[],P={name:"ChoiceCurrency",computed:{currency:{get:function(){return this.$store.getters.currency},set:function(t){this.$store.commit("setCurrency",t)}}}},O=P,S=Object(p["a"])(O,C,$,!1,null,null,null),M=S.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a",{staticClass:"waves-effect waves-light btn modal-trigger light-blue darken-2",attrs:{href:"#addModal"}},[t._v(" add new product ")]),r("div",{ref:"addModal",staticClass:"modal",attrs:{id:"addModal"}},[r("div",{staticClass:"modal-content"},[r("h4",[t._v("Add new product")]),r("div",{staticClass:"row"},[r("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s6"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],class:{invalid:t.$v.name.$error},attrs:{id:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("label",{attrs:{for:"name"}},[t._v("Name")]),t.$v.name.$dirty&&t.$v.name.$error?r("span",{staticClass:"helper-text red-text"},[t._v(" "+t._s(t.$v.name.required?"":"Field is required")+" ")]):t._e()]),r("div",{staticClass:"input-field col s6"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price,expression:"price",modifiers:{number:!0}}],class:{invalid:t.$v.price.$error},attrs:{id:"price",type:"number"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("label",{attrs:{for:"price"}},[t._v("Price")]),t.$v.price.$dirty&&t.$v.price.$error?r("span",{staticClass:"helper-text red-text"},[t._v(" "+t._s(t.$v.price.required?"Min value is 1":"Field is required")+" ")]):t._e()]),r("div",{staticClass:"input-field col s12"},[r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"materialize-textarea",class:{invalid:t.$v.description.$error},attrs:{id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("label",{attrs:{for:"description"}},[t._v("Description")]),t.$v.description.$dirty&&t.$v.description.$error?r("span",{staticClass:"helper-text red-text"},[t._v(" "+t._s(t.$v.description.required?"":"Field is required")+" ")]):t._e()]),r("div",{staticClass:"file-field input-field col s12"},[r("div",{staticClass:"btn"},[r("span",[t._v("Image")]),r("input",{ref:"image",attrs:{type:"file",accept:"image/*"},on:{change:t.changeFile}})]),r("div",{staticClass:"file-path-wrapper"},[r("input",{staticClass:"file-path",class:{invalid:t.$v.image.$error},attrs:{type:"text",placeholder:"Add product image"}})]),t.$v.image.$dirty&&t.$v.image.$error?r("span",{staticClass:"helper-text red-text"},[t._v(" "+t._s(t.$v.image.required?"":"Image is required")+" ")]):t._e()])]),r("button",{staticClass:"btn right",attrs:{type:"submit"}},[t._v("submit")])])])])])])},U=[],q=(r("a4d3"),r("e01a"),r("b0c0"),r("d3b7"),r("96cf"),r("1da1")),B=r("4d5c"),N=r.n(B),k=r("b5ae"),D={name:"AddNewModal",data:function(){return{addModal:null,name:"",price:"",description:"",image:[]}},methods:{onSubmit:function(t){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.$v.$invalid){r.next=3;break}return e.$v.$touch(),r.abrupt("return");case 3:return n=e.$refs.image.files[0],r.next=6,e.getImageUrl(n);case 6:a={name:e.name,price:e.price,description:e.description,image:e.image,date:Date.now()},e.$store.dispatch("addProduct",a),e.addModal.close(),t.target.reset();case 10:case"end":return r.stop()}}),r)})))()},getImageUrl:function(t){var e=this;return new Promise((function(r){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.image=n.result,r()}}))},changeFile:function(t){this.image=t.target.files}},mounted:function(){var t=this.$refs.addModal;this.addModal=N.a.Modal.init(t)},beforeDestroy:function(){this.addModal.destroy()},validations:{name:{required:k["required"]},price:{required:k["required"],minValue:Object(k["minValue"])(1)},description:{required:k["required"]},image:{required:k["required"]}}},A=D,L=(r("1ea5"),Object(p["a"])(A,j,U,!1,null,null,null)),E=L.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"price-range"},[r("span",{staticClass:"flow-text"},[t._v("Price")]),r("form",{staticClass:"row price-range__row",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("div",{staticClass:"input-field col s4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"min"}],attrs:{id:"first_name",type:"text"},domProps:{value:t.min},on:{input:function(e){e.target.composing||(t.min=e.target.value)}}}),r("label",{attrs:{for:"first_name"}},[t._v("Min")])]),r("div",{staticClass:"input-field col s4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.max,expression:"max"}],attrs:{id:"last_name",type:"text"},domProps:{value:t.max},on:{input:function(e){e.target.composing||(t.max=e.target.value)}}}),r("label",{attrs:{for:"last_name"}},[t._v("Max")])]),r("button",{staticClass:"btn waves-effect waves-light",attrs:{type:"submit"}},[t._v("ok")])]),r("div",{ref:"rangePrice"})])},H=[],R=r("dc86"),T=r.n(R),I=r("5070"),J=r.n(I),z={name:"PriceRange",data:function(){return{range:null}},computed:{min:{get:function(){return this.$store.getters.min},set:function(t){this.$store.commit("setMin",t)}},max:{get:function(){return this.$store.getters.max},set:function(t){this.$store.commit("setMax",t)}}},methods:{onSubmit:function(){this.$store.dispatch("filterProducts")}},mounted:function(){var t=this,e=this.$refs.rangePrice;this.range=T.a.create(e,{start:[1,29999],connect:!0,step:1,orientation:"horizontal",range:{min:1,max:29999},format:J()({decimals:0})}),this.range.on("update",(function(){t.$store.commit("setMin",+t.range.get()[0]),t.$store.commit("setMax",+t.range.get()[1])}))}},G=z,V=(r("5daa"),Object(p["a"])(G,F,H,!1,null,null,null)),K=V.exports,Q={name:"LeftSidebar",components:{SortingProducts:x,ChoiceCurrency:M,AddNewModal:E,PriceRange:K}},W=Q,X=Object(p["a"])(W,v,g,!1,null,null,null),Y=X.exports,Z={name:"App",components:{MainContent:f,LeftSidebar:Y},mounted:function(){this.$store.dispatch("GET_PRODUCTS")}},tt=Z,et=(r("5c0b"),Object(p["a"])(tt,a,i,!1,null,null,null)),rt=et.exports,nt=(r("99af"),r("4de4"),r("fb6a"),r("b680"),r("2909")),at=r("bc3a"),it=r.n(at),st={save:function(t,e){localStorage.setItem(e,JSON.stringify(t))},fetch:function(t){return JSON.parse(localStorage.getItem(t))}};n["a"].use(u["a"]);var ot=new u["a"].Store({state:{products:null,filteredProducts:null,localeProducts:null,currency:"UAH",sortBy:"toLow",min:1,max:29999},mutations:{setProducts:function(t,e){t.products=e},setFilteredProducts:function(t,e){t.filteredProducts=e},addProduct:function(t,e){t.products.push(e)},setLocaleProducts:function(t,e){t.localeProducts=e},setSort:function(t,e){t.sortBy=e},setCurrency:function(t,e){t.currency=e},setMin:function(t,e){t.min=e},setMax:function(t,e){t.max=e}},actions:{GET_PRODUCTS:function(t){return Object(q["a"])(regeneratorRuntime.mark((function e(){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,it.a.get("products.json");case 4:n=e.sent,a=st.fetch("products")||[],i=[].concat(Object(nt["a"])(n.data.products),Object(nt["a"])(a)),r("setLocaleProducts",a),r("setProducts",i),r("setFilteredProducts",i),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},addProduct:function(t,e){var r=t.state,n=t.commit,a=t.dispatch,i=r.localeProducts.slice(0);i.push(e),st.save(i,"products"),n("setLocaleProducts",i),n("addProduct",e),a("filterProducts")},filterProducts:function(t){var e=t.state,r=t.commit,n=e.products.slice(0),a=n.filter((function(t){return t.price>=e.min&&t.price<=e.max}));r("setFilteredProducts",a)}},getters:{products:function(t){if(!t.filteredProducts)return[];var e=t.filteredProducts.slice(0),r={toHigh:function(t,e){return t.price-e.price},toLow:function(t,e){return e.price-t.price},alphabet:function(t,e){return t.name.localeCompare(e.name)}};return e.sort(r[t.sortBy])},sortBy:function(t){return t.sortBy},currency:function(t){return t.currency},price:function(t){return function(e){var r=.036;return"USD"===t.currency?"".concat((+e*r).toFixed(0)," USD"):"".concat(e," UAH")}},min:function(t){return t.min},max:function(t){return t.max}}}),ct=(r("6c44"),r("8266"),r("1dce")),ut=r.n(ct),lt=r("2106"),dt=r.n(lt);n["a"].use(dt.a,it.a),n["a"].use(ut.a),n["a"].config.productionTip=!1,new n["a"]({store:ot,render:function(t){return t(rt)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"5daa":function(t,e,r){"use strict";r("0e84")},"82e1":function(t,e,r){},"9c0c":function(t,e,r){},bda6:function(t,e,r){"use strict";r("82e1")}});
//# sourceMappingURL=app.b8a2a54a.js.map